{
  "schema_version": "1.0",
  "id": "file-processing-prefab",
  "version": "0.1.4",
  "name": "文件处理预制件",
  "description": "封装文件解析 API，支持将 PDF、Markdown、图片等文件解析为 Markdown 格式的纯文本",
  "author": "ketd",
  "github_url": "https://github.com/The-Agent-Builder/File-Processing",
  "tags": [
    "file-processing",
    "pdf",
    "markdown",
    "ocr",
    "document-parsing"
  ],
  "entry_point": "src/main.py",
  "dependencies_file": "pyproject.toml",
  "functions": [
    {
      "name": "parse_file",
      "description": "解析文件为 Markdown 格式的纯文本，支持 PDF、图片、文档等多种格式",
      "files": {
        "input": {
          "type": "array",
          "items": {
            "type": "InputFile"
          },
          "description": "要解析的文件（PDF、图片、Markdown 等）",
          "required": true,
          "minItems": 1,
          "maxItems": 1
        },
        "output": {
          "type": "array",
          "items": {
            "type": "OutputFile"
          },
          "description": "解析后的 Markdown 文件"
        }
      },
      "parameters": [],
      "returns": {
        "type": "object",
        "description": "包含解析结果的对象",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "操作是否成功"
          },
          "message": {
            "type": "string",
            "description": "状态消息（成功时）",
            "optional": true
          },
          "content": {
            "type": "string",
            "description": "解析后的 Markdown 内容（成功时）",
            "optional": true
          },
          "input_file": {
            "type": "string",
            "description": "输入文件名（成功时）",
            "optional": true
          },
          "output_file": {
            "type": "string",
            "description": "输出文件名（成功时）",
            "optional": true
          },
          "error": {
            "type": "string",
            "description": "错误信息（失败时）",
            "optional": true
          },
          "error_code": {
            "type": "string",
            "description": "错误代码（失败时）",
            "optional": true,
            "enum": [
              "NO_INPUT_FILE",
              "PARSE_FAILED",
              "TIMEOUT",
              "CONNECTION_ERROR",
              "HTTP_ERROR",
              "UNEXPECTED_ERROR"
            ]
          }
        }
      }
    }
  ],
  "execution_environment": {
    "cpu": "1",
    "memory": "512Mi"
  }
}
